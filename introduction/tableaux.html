<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formation JS - ES - 2022-07-04</title>
    <link rel="stylesheet" href="../css/bootstrap.css" media="all" />
    <script src="../js/bootstrap.bundle.js"></script>
    <script>
        /* avant es6 */
        /*
        var tableau = new Array('valeur', 1, 12.3, true);
        console.log(tableau);
        */

        /* depuis es6 */
        let cars = ['Peugeot', 'Citroën', 'Ford', 'Renault'];
        console.log(cars);
        console.table(cars);
        console.log(cars[1]);
        console.log(`le tableau cars : ${cars} contient ${cars.length} élément(s)`);

        /* les tableaux sont donc des objet itérables */
        /* on utilise généralement des boucles pour parcourir les tableaux */
        /* la boucle pour */

        console.log('------------------- boucle for -------------------');
        for(let i = 0; i < cars.length; i++){
            console.log(`la valeur à l'index ${i} contient ${cars[i]}`);
        }

        console.log('------------------- boucle for in ----------------');
        for(let index in cars){
            console.log(`la valeur à l'index ${index} contient ${cars[index]}`);
        }

        /* le for in permet aussi d'itérer sur les attributs et les méthodes d'un objet */
        let obj = {
            nom: 'Duflot',
            prenom: 'Nicolas',
            age: 42,
            presentation: function(){
                return `bonjour, je m'appelle ${this.prenom} ${this.nom} et j'ai ${this.age} ans`;
            }
        }

        console.log(obj.presentation());

        for(let key in obj){
            console.log(`ce qui est contenu dans ${key} (${typeof obj[key]}) est ${obj[key]}`);
        }

        /* depuis es6 */

        console.log('------------------- boucle for of (es6) ----------');
        for(let value of cars){
            console.log(`la valeur actuelle est ${value}`);
        }

        /* les boules tant que et faire tant que */
        console.log('------------------- boucle while -----------------');
        let cpt = 0;
        while(cpt < cars.length){
            console.log(cars[cpt]);
            cpt++;
        }

        console.log('------------------- boucle do while --------------');
        cpt = 0;
        do{
            console.log(cars[cpt]);
            cpt++;
        }while(cpt < cars.length)

        console.log('---------- sortir prématurément d\'une boucle avec break --------------');

        cpt = 0;
        do{
            console.log(cars[cpt]);
            if('Ford' === cars[cpt]){
                break;
            }
            cpt++;
        }while(cpt < cars.length)

        /* la méthode forEach()  */
        console.log('------------- forEach() -----------------');
        cars.forEach(function(value, index, cars){
            console.log(` la valeur ${value} se trouve à l'index ${index} du tableau : ${cars}`);
        });

        let tabNumber = [1,2,3,4,5];
        tabNumber.forEach(function(value, index, tab){
            tab[index] = value*10;
        });
        console.log(tabNumber);

        /* 
        es6 .entries() 
        elle vient du modèle objet, elle permet d'extraire chaque élément du tableau sous la forme d'un tableau contenant deux éléménts :
        l'index et la valeur
        */
        console.log('---------- méthode .entries() -----------');
        for(let entry of cars.entries()){
            console.log(entry);
            console.log(entry[0]);
            console.log(entry[1]);
        }

        /* la méthode .map() est l'équivalent d'un forEach mais uniquement pour les tableau */
        cars.map(function(value, index, tab){
            console.log(` la valeur ${value} se trouve à l'index ${index} du tableau : ${tab}`);
        });

        console.log('---------- méthode .keys() -----------');
        for(let key of cars.keys()){
            console.log(key);
            console.log(cars[key]);
        }

        /* ajouter des éléments dans un tableau */

        cars[cars.length] = 'Hyundai'; /* ça marche mais non merci */

        cars.push('Seat');
        cars.push('Fiat', 'Toyota');

        console.log(cars);

        /* supprimer des valeurs dans un tableau */
        /*
        .pop()
        .shift()
        .splice()
        */

        /*  .pop() : extrait la dernière valeur d'un tableau */
        let extractlast = cars.pop();
        console.log(cars);
        console.log(extractlast);

        /* .shift() : extrait la première valeur du tableau et décale toutes les valeurs sur l'index */
        let extractFirst = cars.shift();
        console.log(cars);
        console.log(extractFirst);

        /* .splice() 1 : extraire des valeurs du tableau sous forme d'un tableau*/
        let tabRemoved = cars.splice(cars.indexOf('Ford'), 2);
        console.log(cars);
        console.log(tabRemoved);

        /* .splice() 2 : remplacer des valeurs extraite du tableau sous forme d'un tableau par d'autres valeurs (1 à X valeurs) */
        let tabReplaced = cars.splice(cars.indexOf('Citroën'), 2, 'Alpine', 'Mazda');
        console.log(cars);
        console.log(tabReplaced);

        /* .splice() 3 : inserrer des valeurs dans le tableau */
        cars.splice(cars.indexOf('Mazda'), 0, extractFirst, extractlast, tabRemoved[0], tabRemoved[1], tabReplaced[0], tabReplaced[1]);
        console.log(cars);

        /* comment copier un tableau */

        /*
        let cloneCars = cars;
        console.log(cloneCars);
        cloneCars.pop();
        console.log(cloneCars);
        console.log(cars);
        */

    </script>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-light">
        <div class="container">
            <a class="navbar-brand" href="./">Dawan JS</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="../">Accueil</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Introduction
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="../introduction/index.html">Premiers scripts</a></li>
                            <li><a class="dropdown-item" href="../introduction/tableaux.html">Les tableaux</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="container">
        <section class="row">
            <article class="col">
                <header>
                    <h2>Les tableaux</h2>
                </header>
                <main>
                    <p>
                        Tous est dans la console & le code
                    </p>
                </main>
            </article>
        </section>
    </main>
</body>

</html>